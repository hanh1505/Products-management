//- extends ../../layouts/default.pug

//- block main
//-   if (product.title)
//-     h1(class="mb-4") #{product.title}

//-   if (product.price)
//-     div(class="mb-4") Giá: <b>#{product.price}$</b>

//-   if (product.discountPercentage)
//-     div(class="mb-4") Giảm giá: <b>#{product.discountPercentage}%</b>

//-   if (product.stock)
//-     div(class="mb-4") Còn lại: <b>#{product.stock}</b>

//-   if (product.thumbnail)
//-     div(class="mb-4")
//-       img(
//-         src=product.thumbnail
//-         style="width: 100px"
//-       )

//-   if (product.status)
//-     div(class="mb-4")
//-       span Trang thái:
//-       if (product.status === "active")
//-         span(class="badge badge-success") Hoạt động
//-       else
//-         span(class="badge badge-danger") Không hoạt động
//-     if (product.position)
//-         div(class="mb-4") Vị trí: <b>#{product.position}</b>

//-     if (product.description)
//-         div(class="mb-4") #{product.description}
//-     a(class="btn btn-warning" href=`${prefixAdmin}/products/edit/${product.id}`) Chỉnh sửa sản phẩm
//-     script(src="/admin/js/product.js")


extends ../../layouts/default.pug
include ../../mixins/box-head.pug

block main
  style.
    :root{
      --bg:#f5f5f5;
      --card:#ffffff;
      --text:#111827;
      --muted:#6b7280;
      --line:#e5e7eb;
      --orange:#ee4d2d;
      --r:16px;
      --shadow: 0 10px 28px rgba(0,0,0,.10);
    }

    body{ background: var(--bg); }

    .big-wrap{
      max-width: 1280px;
      margin: 0 auto;
      padding: 18px 12px 40px;
    }

    .topbar{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 12px;
    }

    .back-btn{
      border-radius: 12px;
      padding: 10px 14px;
      font-weight: 900;
      border: 1px solid var(--line);
      background: #fff;
      color: var(--text);
      text-decoration: none;
      display:inline-flex;
      align-items:center;
      gap: 8px;
      box-shadow: 0 8px 18px rgba(0,0,0,.06);
    }
    .back-btn:hover{
      border-color: rgba(238,77,45,.35);
      color: var(--orange);
    }

    .cardx{
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--r);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .pad{ padding: 22px; }

    .title{
      margin: 0 0 10px 0;
      font-size: 28px;
      font-weight: 800;
      line-height: 1.2;
      color: var(--text);
    }

    .price-row{
      display:flex;
      align-items: baseline;
      gap: 12px;
      flex-wrap: wrap;
      margin: 14px 0 12px;
      padding: 14px 14px;
      border-radius: 12px;
      background: rgba(238,77,45,.08);
      border: 1px solid rgba(238,77,45,.18);
    }
    .price-new{
      color: var(--orange);
      font-size: 34px;
      font-weight: 900;
      letter-spacing: -0.4px;
    }
    .price-old{
      color: #9ca3af;
      font-weight: 800;
      text-decoration: line-through;
    }
    .badge-sale{
      margin-left: auto;
      background: var(--orange);
      color: #fff;
      font-weight: 900;
      font-size: 13px;
      padding: 7px 10px;
      border-radius: 999px;
    }

    .imgbox{
      border-radius: 14px;
      border: 1px solid var(--line);
      overflow: hidden;
      background: #fafafa;
    }
    .imgbox img{
      width: 100%;
      height: 440px;
      object-fit: cover;
      display: block;
    }
    @media (max-width: 992px){
      .imgbox img{ height: 360px; }
      .title{ font-size: 24px; }
      .price-new{ font-size: 30px; }
    }

    .meta{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 10px;
    }
    .chip{
      border: 1px solid var(--line);
      background:#fff;
      border-radius: 999px;
      padding: 8px 12px;
      font-weight: 800;
      font-size: 13px;
      color: var(--text);
    }
    .chip span{
      color: var(--muted);
      font-weight: 800;
      margin-right: 6px;
    }

    .desc{
      margin-top: 14px;
      border: 1px solid var(--line);
      border-radius: 14px;
      background:#fff;
      padding: 14px 14px;
      line-height: 1.75;
      color: var(--text);
      opacity: .92;
      white-space: pre-wrap;
      font-size: 15px;
    }

    .actions{
      margin-top: 16px;
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .btnx{
      border-radius: 12px;
      padding: 12px 16px;
      font-weight: 900;
      border: 1px solid var(--line);
      background:#fff;
      color: var(--text);
    }
    .btnx.primary{
      background: var(--orange);
      border-color: var(--orange);
      color:#fff;
    }

  .big-wrap
    .topbar
      +box-head("Trang chi tiết sản phẩm")
      a.back-btn(href="/products") ← Quay lại

    .cardx
      .pad
        .row.g-4
          .col-12.col-lg-6
            .imgbox
              img(
                src=product.thumbnail
                alt=product.title
              )

          .col-12.col-lg-6
            h2.title #{product.title}

            .price-row
              span.price-new $#{product.priceNew}
              if product.priceNew != product.price
                span.price-old $#{product.price}
              if product.discountPercentage
                span.badge-sale -#{product.discountPercentage}%

            .meta
              if product.stock
                .chip
                  span Tồn kho:
                  | #{product.stock}
              if product.status
                .chip
                  span Trạng thái:
                  if product.status === "active"
                    | Hoạt động
                  else
                    | Không hoạt động

            if product.description
              .desc #{product.description}

            .actions
              button.btnx.primary(type="button") Thêm vào giỏ
              button.btnx(type="button") Mua ngay

